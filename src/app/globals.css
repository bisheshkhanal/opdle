@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Treasure Map Theme - bold, weathered, vibrant */
    --color-bg: 249 240 227;
    --color-bg-card: 240 228 209;
    --color-text: 21 41 74;
    --color-text-muted: 30 58 95;
    --color-border: 227 212 184;
    --color-accent: 184 134 11;

    /* Tile colors for light mode */
    --tile-correct: 46 125 50;
    --tile-partial: 230 167 0;
    --tile-wrong: 198 40 40;
    --tile-unknown: 84 110 122;

    /* Bouncy timing functions */
    --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-snap: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Dark Mode - Night Sea Theme */
  .dark {
    --color-bg: 10 18 32;
    --color-bg-card: 15 26 46;
    --color-text: 224 231 255;
    --color-text-muted: 165 180 210;
    --color-border: 35 55 90;
    --color-accent: 244 196 48;

    /* Tile colors adjusted for dark mode */
    --tile-correct: 56 160 66;
    --tile-partial: 255 183 0;
    --tile-wrong: 239 83 80;
    --tile-unknown: 96 125 139;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply antialiased;
    color: rgb(var(--color-text));
    background:
      /* Warm treasure glow in corner */
      radial-gradient(
        circle at 15% 15%,
        rgba(244, 196, 48, 0.18) 0%,
        transparent 45%
      ),
      /* Subtle aged paper variation */
        radial-gradient(
          circle at 85% 85%,
          rgba(201, 184, 150, 0.25) 0%,
          transparent 50%
        ),
      /* Central warm highlight */
        radial-gradient(
          circle at 50% 30%,
          rgba(253, 248, 240, 0.6) 0%,
          transparent 55%
        ),
      /* Subtle navy depth in corner */
        radial-gradient(
          circle at 90% 10%,
          rgba(21, 41, 74, 0.06) 0%,
          transparent 40%
        ),
      /* Gold accent streak */
        linear-gradient(135deg, rgba(212, 165, 32, 0.15) 0%, transparent 40%),
      /* Weathered parchment gradient */
        linear-gradient(
          180deg,
          rgba(253, 248, 240, 1) 0%,
          rgba(249, 240, 227, 1) 40%,
          rgba(240, 228, 209, 1) 100%
        );
    background-attachment: fixed;
    min-height: 100vh;
    position: relative;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: 0.5;
    background-image:
      /* Fine grid lines - like aged paper texture */
      linear-gradient(
        90deg,
        rgba(139, 105, 20, 0.12) 0%,
        rgba(139, 105, 20, 0.12) 1px,
        transparent 1px
      ),
      linear-gradient(
        0deg,
        rgba(139, 105, 20, 0.12) 0%,
        rgba(139, 105, 20, 0.12) 1px,
        transparent 1px
      ),
      /* Larger grid - map quadrants feel */
        linear-gradient(
          90deg,
          rgba(21, 41, 74, 0.15) 0%,
          rgba(21, 41, 74, 0.15) 1.5px,
          transparent 1.5px
        ),
      linear-gradient(
        0deg,
        rgba(21, 41, 74, 0.15) 0%,
        rgba(21, 41, 74, 0.15) 1.5px,
        transparent 1.5px
      ),
      /* Gold accent dots - like treasure markers */
        radial-gradient(rgba(212, 165, 32, 0.25) 1.5px, transparent 1.5px),
      /* Corner weathering */
        radial-gradient(
          circle at 0% 100%,
          rgba(139, 105, 20, 0.12) 0%,
          transparent 35%
        );
    background-size:
      80px 80px,
      80px 80px,
      320px 320px,
      320px 320px,
      120px 120px,
      600px 600px;
    background-position:
      0 0,
      0 0,
      0 0,
      0 0,
      25px 35px,
      0 0;
    mix-blend-mode: multiply;
  }

  .dark body::before {
    opacity: 0.3;
    background-image:
      linear-gradient(
        90deg,
        rgba(244, 196, 48, 0.06) 0%,
        rgba(244, 196, 48, 0.06) 1px,
        transparent 1px
      ),
      linear-gradient(
        0deg,
        rgba(244, 196, 48, 0.06) 0%,
        rgba(244, 196, 48, 0.06) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        rgba(96, 165, 250, 0.04) 0%,
        rgba(96, 165, 250, 0.04) 1.5px,
        transparent 1.5px
      ),
      linear-gradient(
        0deg,
        rgba(96, 165, 250, 0.04) 0%,
        rgba(96, 165, 250, 0.04) 1.5px,
        transparent 1.5px
      ),
      radial-gradient(rgba(244, 196, 48, 0.15) 1.5px, transparent 1.5px),
      radial-gradient(
        circle at 0% 100%,
        rgba(244, 196, 48, 0.05) 0%,
        transparent 35%
      );
    mix-blend-mode: screen;
  }

  body::after {
    content: "";
    position: fixed;
    inset: -10%;
    pointer-events: none;
    background:
      /* Vignette - burned edges effect */
      radial-gradient(
        ellipse at 50% 50%,
        transparent 40%,
        rgba(139, 105, 20, 0.08) 70%,
        rgba(21, 41, 74, 0.15) 100%
      ),
      /* Corner darkening */
        radial-gradient(
          circle at 0% 0%,
          rgba(107, 82, 16, 0.1) 0%,
          transparent 40%
        ),
      radial-gradient(
        circle at 100% 100%,
        rgba(107, 82, 16, 0.1) 0%,
        transparent 40%
      ),
      /* Paper grain noise - stronger */
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150' viewBox='0 0 150 150'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='150' height='150' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E");
    background-size:
      auto,
      auto,
      auto,
      150px 150px;
    mix-blend-mode: multiply;
    opacity: 0.45;
  }

  .dark body {
    background:
      radial-gradient(
        circle at 15% 15%,
        rgba(244, 196, 48, 0.08) 0%,
        transparent 45%
      ),
      radial-gradient(
        circle at 85% 85%,
        rgba(15, 35, 70, 0.4) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 50% 30%,
        rgba(20, 40, 80, 0.3) 0%,
        transparent 55%
      ),
      radial-gradient(
        circle at 90% 10%,
        rgba(96, 165, 250, 0.05) 0%,
        transparent 40%
      ),
      linear-gradient(135deg, rgba(244, 196, 48, 0.05) 0%, transparent 40%),
      linear-gradient(
        180deg,
        rgba(10, 18, 32, 1) 0%,
        rgba(12, 22, 40, 1) 40%,
        rgba(15, 26, 46, 1) 100%
      );
  }

  .dark body::after {
    background:
      radial-gradient(
        ellipse at 50% 50%,
        transparent 40%,
        rgba(0, 0, 0, 0.3) 70%,
        rgba(0, 0, 0, 0.5) 100%
      ),
      radial-gradient(
        circle at 0% 0%,
        rgba(244, 196, 48, 0.03) 0%,
        transparent 40%
      ),
      radial-gradient(
        circle at 100% 100%,
        rgba(244, 196, 48, 0.03) 0%,
        transparent 40%
      );
    mix-blend-mode: normal;
    opacity: 0.6;
  }

  /* Focus styles for accessibility */
  :focus-visible {
    @apply rounded-sm outline-2 outline-offset-2 outline-navy-600;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Game Card Container - bold treasure map aesthetic */
  .game-card {
    @apply rounded-2xl bg-parchment-50/95 shadow-card backdrop-blur-sm;
    @apply border-2 border-parchment-400/70;
    @apply dark:border-slate-600/70 dark:bg-slate-800/95;
    position: relative;
    overflow: hidden;
  }

  .game-card::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(
      135deg,
      rgba(212, 165, 32, 0.35),
      transparent 40%,
      rgba(139, 105, 20, 0.2) 80%,
      rgba(212, 165, 32, 0.25)
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  .dark .game-card::before {
    background: linear-gradient(
      135deg,
      rgba(244, 196, 48, 0.25),
      transparent 40%,
      rgba(96, 165, 250, 0.15) 80%,
      rgba(244, 196, 48, 0.2)
    );
  }

  .game-card::after {
    content: "";
    position: absolute;
    inset: 10px;
    border-radius: calc(1rem - 2px);
    border: 2px dashed rgba(139, 105, 20, 0.3);
    pointer-events: none;
    opacity: 0.7;
  }

  .dark .game-card::after {
    border-color: rgba(244, 196, 48, 0.2);
  }

  .game-stage {
    @apply relative rounded-[28px] border-2 border-parchment-400/80 bg-parchment-50/90;
    @apply shadow-float;
    @apply dark:border-slate-600/80 dark:bg-slate-800/90;
    padding: 28px;
    overflow: hidden;
    isolation: isolate;
  }

  .game-stage > *:not(.stage-overlay) {
    position: relative;
    z-index: 1;
  }

  .game-stage::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(
      160deg,
      rgba(212, 165, 32, 0.4),
      transparent 35%,
      rgba(21, 41, 74, 0.2) 70%,
      rgba(212, 165, 32, 0.3)
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  .dark .game-stage::before {
    background: linear-gradient(
      160deg,
      rgba(244, 196, 48, 0.3),
      transparent 35%,
      rgba(96, 165, 250, 0.15) 70%,
      rgba(244, 196, 48, 0.25)
    );
  }

  .game-stage::after {
    content: "";
    position: absolute;
    top: 0;
    left: 15px;
    right: 15px;
    height: 5px;
    border-radius: 999px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(212, 165, 32, 0.6) 30%,
      rgba(212, 165, 32, 0.6) 70%,
      transparent 100%
    );
    opacity: 0.9;
  }

  .dark .game-stage::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(244, 196, 48, 0.5) 30%,
      rgba(244, 196, 48, 0.5) 70%,
      transparent 100%
    );
  }

  .game-stage .stage-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      linear-gradient(
        90deg,
        rgba(74, 103, 134, 0.22) 0%,
        rgba(74, 103, 134, 0.22) 1px,
        transparent 1px
      ),
      linear-gradient(
        0deg,
        rgba(74, 103, 134, 0.22) 0%,
        rgba(74, 103, 134, 0.22) 1px,
        transparent 1px
      ),
      radial-gradient(rgba(186, 150, 74, 0.22) 1px, transparent 1px),
      radial-gradient(
        circle at 15% 20%,
        rgba(186, 150, 74, 0.16),
        transparent 45%
      ),
      radial-gradient(
        circle at 85% 85%,
        rgba(74, 103, 134, 0.12),
        transparent 50%
      );
    background-size:
      72px 72px,
      72px 72px,
      120px 120px,
      420px 420px,
      520px 520px;
    background-position:
      0 0,
      0 0,
      30px 36px,
      0 0,
      0 0;
    opacity: 0.6;
  }

  .game-stage .stage-compass {
    position: absolute;
    top: -15%;
    right: -8%;
    width: 420px;
    height: 420px;
    opacity: 0.18;
    pointer-events: none;
    mix-blend-mode: multiply;
    filter: sepia(0.3);
  }

  .plaque-header {
    @apply relative rounded-xl bg-navy-800 px-2 py-1.5 shadow-card;
    @apply ring-2 ring-gold-400/50;
    background: linear-gradient(
      180deg,
      rgba(21, 41, 74, 0.98) 0%,
      rgba(13, 27, 49, 1) 100%
    );
  }

  .plaque-header::before {
    content: "";
    position: absolute;
    inset: 5px;
    border-radius: calc(0.75rem - 3px);
    border: 1.5px dashed rgba(244, 196, 48, 0.4);
    pointer-events: none;
  }

  .legend-card {
    @apply relative overflow-hidden;
  }

  .legend-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background:
      radial-gradient(
        circle at 15% 20%,
        rgba(186, 150, 74, 0.12),
        transparent 55%
      ),
      radial-gradient(
        circle at 85% 80%,
        rgba(74, 103, 134, 0.12),
        transparent 55%
      );
    opacity: 0.6;
    pointer-events: none;
  }

  .legend-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at 70% 20%,
      rgba(74, 103, 134, 0.18),
      transparent 45%
    );
    opacity: 0.4;
    pointer-events: none;
  }

  .legend-mark {
    @apply absolute -right-6 -top-6 h-24 w-24 opacity-15;
  }

  .reveal-stamp {
    animation: stampPop 0.55s cubic-bezier(0.16, 0.84, 0.44, 1) forwards;
  }

  .reveal-ink {
    animation: inkPress 0.35s ease-out backwards;
  }

  .tile-reveal-stamp {
    animation:
      tileReveal 0.8s cubic-bezier(0.4, 0, 0.2, 1) backwards,
      stampReveal 0.8s cubic-bezier(0.16, 0.84, 0.44, 1) backwards;
  }

  .row-sweep {
    position: relative;
  }

  .row-sweep::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 24px;
    background: linear-gradient(
      120deg,
      transparent 0%,
      rgba(250, 242, 227, 0.35) 40%,
      transparent 70%
    );
    opacity: 0;
    animation: sweepGlow 0.8s ease-out forwards;
    pointer-events: none;
  }

  .portrait-stamp {
    position: relative;
  }

  .portrait-stamp::after {
    content: "";
    position: absolute;
    inset: -10px;
    border-radius: 999px;
    border: 2px dashed rgba(186, 150, 74, 0.55);
    animation: portraitStamp 0.8s ease-out forwards;
    opacity: 0;
    pointer-events: none;
  }

  /* Primary Button - refined navy */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-xl px-6 py-3 text-[15px] font-semibold;
    @apply bg-navy-700 text-white;
    @apply shadow-soft transition-all duration-200;
    @apply hover:-translate-y-0.5 hover:bg-navy-800 hover:shadow-card;
    @apply focus-visible:ring-2 focus-visible:ring-navy-500/40 focus-visible:ring-offset-2;
    @apply active:translate-y-0 active:scale-[0.98];
    @apply disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:translate-y-0 disabled:hover:bg-navy-700;
    @apply dark:bg-slate-600 dark:hover:bg-slate-500;
  }

  /* Secondary Button - refined parchment */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-xl px-6 py-3 text-[15px] font-semibold;
    @apply bg-parchment-100 text-navy-800;
    @apply border border-parchment-400/50;
    @apply shadow-soft transition-all duration-200;
    @apply hover:border-parchment-400 hover:bg-parchment-200 hover:shadow-card;
    @apply focus-visible:ring-2 focus-visible:ring-navy-500/40 focus-visible:ring-offset-2;
    @apply active:scale-[0.98];
    @apply dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 dark:hover:border-slate-500 dark:hover:bg-slate-600;
  }

  /* Success Button - refined green */
  .btn-success {
    @apply inline-flex items-center justify-center gap-2;
    @apply rounded-xl px-6 py-3 text-[15px] font-semibold;
    @apply bg-tile-correct text-white;
    @apply shadow-soft transition-all duration-200;
    @apply hover:-translate-y-0.5 hover:bg-tile-correctDark hover:shadow-card;
    @apply focus-visible:ring-2 focus-visible:ring-tile-correct/40 focus-visible:ring-offset-2;
    @apply active:translate-y-0 active:scale-[0.98];
  }

  /* Tile status classes - bold, punchy colors */
  .tile-correct {
    @apply border-2 border-tile-correctBorder bg-tile-correct text-white shadow-tile-correct;
    font-weight: 700;
    letter-spacing: 0.02em;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .tile-partial {
    @apply border-2 border-tile-partialBorder bg-tile-partial text-white shadow-tile-partial;
    font-weight: 700;
    letter-spacing: 0.02em;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
  }

  .tile-wrong {
    @apply border-2 border-tile-wrongBorder bg-tile-wrong text-white shadow-tile-wrong;
    font-weight: 700;
    letter-spacing: 0.02em;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .tile-unknown {
    @apply border-2 border-tile-unknownBorder bg-tile-unknown text-white;
    font-weight: 700;
    letter-spacing: 0.02em;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    box-shadow:
      0 4px 12px rgba(84, 110, 122, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }

  .guess-cell[data-status="correct"] {
    box-shadow:
      inset 0 0 0 1px rgba(255, 255, 255, 0.2),
      0 6px 14px rgba(34, 49, 68, 0.18);
  }

  .guess-cell[data-status="correct"]::after {
    content: "";
    position: absolute;
    inset: 6px;
    border-radius: inherit;
    border: 1px dashed rgba(255, 255, 255, 0.35);
    pointer-events: none;
    opacity: 0.5;
  }

  .guess-cell[data-status="correct"]::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(
      circle at 50% 30%,
      rgba(255, 255, 255, 0.25),
      transparent 70%
    );
    opacity: 0.35;
    pointer-events: none;
  }

  .tile-neutral {
    @apply border-2 border-parchment-300 bg-parchment-100 text-navy-700;
    @apply dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200;
  }
}

@layer utilities {
  /* Custom scrollbar - subtle nautical feel */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(217, 208, 188) transparent;
  }

  .dark .scrollbar-thin {
    scrollbar-color: rgb(71, 85, 105) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgb(217, 208, 188);
    border-radius: 3px;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgb(71, 85, 105);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgb(201, 150, 46);
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgb(244, 196, 48);
  }

  /* Text balance for better headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Subtle text shadow for readability */
  .text-shadow-soft {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .ornate-border {
    position: relative;
  }

  .ornate-border::before {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: inherit;
    border: 1px solid rgba(186, 150, 74, 0.35);
    opacity: 0.6;
    pointer-events: none;
  }
}

/* Game grid table - stable, elegant alignment */
.guess-table {
  display: grid;
  grid-template-columns: minmax(130px, 160px) repeat(8, minmax(62px, 1fr));
  gap: 5px;
  width: 100%;
}

@media (min-width: 640px) {
  .guess-table {
    grid-template-columns: minmax(170px, 200px) repeat(8, minmax(72px, 1fr));
    gap: 6px;
  }
}

@media (min-width: 768px) {
  .guess-table {
    grid-template-columns: minmax(210px, 240px) repeat(8, minmax(80px, 1fr));
    gap: 8px;
  }
}

/* Refined guess cells with proper wrapping */
.guess-cell {
  @apply flex flex-col items-center justify-center;
  @apply min-h-[52px] rounded-lg px-1.5 py-2;
  @apply text-center text-[11px] font-medium;
  @apply transition-all duration-200;
  word-break: break-word;
  hyphens: auto;
  line-height: 1.3;
  position: relative;
}

@media (min-width: 640px) {
  .guess-cell {
    @apply min-h-[56px] px-2 py-2.5 text-xs;
  }
}

@media (min-width: 768px) {
  .guess-cell {
    @apply min-h-[62px] rounded-xl px-2.5 py-3 text-sm;
    line-height: 1.4;
  }
}

/* Character cell - elegant presentation */
.character-cell {
  @apply flex flex-col items-center justify-center gap-2.5;
  @apply min-h-[104px] rounded-lg px-2.5 py-3;
  @apply border-2 border-parchment-300/70 bg-parchment-100/80;
  @apply transition-all duration-200;
  @apply dark:border-slate-600/70 dark:bg-slate-700/80;
}

@media (min-width: 640px) {
  .character-cell {
    @apply min-h-[118px] gap-3 px-3 py-3.5;
  }
}

@media (min-width: 768px) {
  .character-cell {
    @apply min-h-[136px] gap-3.5 rounded-xl px-3.5 py-4;
  }
}

/* Dramatic animations - bouncy and satisfying */
.guess-row-enter {
  animation: slideUpBounce 0.4s var(--ease-bounce);
}

@keyframes slideUpBounce {
  0% {
    opacity: 0;
    transform: translateY(35px) scale(0.95);
  }
  60% {
    opacity: 1;
    transform: translateY(-8px) scale(1.02);
  }
  80% {
    transform: translateY(3px) scale(0.99);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Dramatic tile reveal with bouncy flip */
.tile-reveal {
  animation: tileRevealBold 0.8s var(--ease-bounce);
  animation-fill-mode: backwards;
}

@keyframes tileRevealBold {
  0% {
    opacity: 0;
    transform: rotateY(-90deg) scale(0.7);
  }
  50% {
    opacity: 1;
    transform: rotateY(15deg) scale(1.08);
  }
  75% {
    transform: rotateY(-5deg) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: rotateY(0deg) scale(1);
  }
}

@keyframes stampPop {
  0% {
    transform: scale(0.6) rotate(-8deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.15) rotate(4deg);
    opacity: 1;
  }
  75% {
    transform: scale(0.95) rotate(-2deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

/* Win celebration - dramatic stamp effect */
@keyframes winCelebrate {
  0% {
    transform: scale(0.3) rotate(-15deg);
    opacity: 0;
  }
  40% {
    transform: scale(1.2) rotate(5deg);
    opacity: 1;
  }
  60% {
    transform: scale(0.9) rotate(-3deg);
  }
  80% {
    transform: scale(1.05) rotate(1deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

.win-celebrate {
  animation: winCelebrate 0.7s var(--ease-bounce) forwards;
}

@keyframes stampReveal {
  0% {
    opacity: 0;
    transform: scale(0.86) rotate(-1deg);
  }
  60% {
    opacity: 1;
    transform: scale(1.03) rotate(0.5deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

@keyframes inkPress {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes sweepGlow {
  0% {
    opacity: 0;
    transform: translateX(-20%);
  }
  100% {
    opacity: 1;
    transform: translateX(10%);
  }
}

@keyframes portraitStamp {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.02);
  }
  100% {
    opacity: 0;
    transform: scale(1.12);
  }
}

/* Staggered reveals - slightly longer for dramatic effect */
.tile-delay-1 {
  animation-delay: 0.45s;
}
.tile-delay-2 {
  animation-delay: 0.9s;
}
.tile-delay-3 {
  animation-delay: 1.35s;
}
.tile-delay-4 {
  animation-delay: 1.8s;
}
.tile-delay-5 {
  animation-delay: 2.25s;
}
.tile-delay-6 {
  animation-delay: 2.7s;
}
.tile-delay-7 {
  animation-delay: 3.15s;
}
.tile-delay-8 {
  animation-delay: 3.6s;
}

/* Treasure map themed utilities */
.text-treasure {
  background: linear-gradient(
    135deg,
    #d4a520 0%,
    #f4c430 40%,
    #b8860b 70%,
    #d4a520 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-pirate {
  font-family: var(--font-pirate), Georgia, serif;
}

.glow-gold {
  box-shadow:
    0 0 20px rgba(244, 196, 48, 0.4),
    0 0 40px rgba(244, 196, 48, 0.2);
}

.border-rope {
  border-image: repeating-linear-gradient(
      90deg,
      #c9b896 0px,
      #a89470 3px,
      #c9b896 6px
    )
    1;
}

/* Ink splatter decorative element */
.ink-splatter::before {
  content: "";
  position: absolute;
  width: 40px;
  height: 40px;
  background: radial-gradient(
    ellipse at center,
    rgba(21, 41, 74, 0.15) 0%,
    transparent 70%
  );
  border-radius: 50% 40% 50% 40%;
  transform: rotate(-15deg);
  pointer-events: none;
}
